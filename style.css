/* ===============================
   NIGHTMARE SERVER GALLERY CSS
   Cyber Grid Palette + Extra Effects
   =============================== */

/* --- 1. Global Variables (Cyber Grid Palette) --- */
:root {
    /* Core Colors - Deep Space, Electric Accents */
    --primary: #00ffff;        /* Electric Cyan */
    --primary-rgb: 0, 255, 255;
    --primary-dark: #00a0a0;     /* Darker Cyan */
    --primary-dark-rgb: 0, 160, 160;
    --primary-light: #aaffff;    /* Light Cyan */
    --primary-light-rgb: 170, 255, 255;

    --secondary: #ff00ff;      /* Electric Magenta */
    --secondary-rgb: 255, 0, 255;
    --secondary-dark: #a000a0;   /* Darker Magenta */
    --secondary-dark-rgb: 160, 0, 160;
    --secondary-light: #ffaaff;  /* Light Magenta */
    --secondary-light-rgb: 255, 170, 255;

    --accent: #39ff14;         /* Electric Lime */
    --accent-rgb: 57, 255, 20;
    --accent-dark: #28a40e;     /* Darker Lime */
    --accent-dark-rgb: 40, 164, 14;
    --accent-light: #a1ff90;    /* Light Lime */
    --accent-light-rgb: 161, 255, 144;

    --dark: #1a1f2b;           /* Very Dark Blue */
    --dark-rgb: 26, 31, 43;
    --darker: #0a0f1a;         /* Near Black Blue */
    --darker-rgb: 10, 15, 26;
    --light: #e0e6f0;          /* Off White */
    --light-rgb: 224, 230, 240;
    --light-muted: #94a3b8;     /* Slate Grey */
    --light-muted-rgb: 148, 163, 184;
    --light-darker: #64748b;   /* Darker Slate */
    --light-darker-rgb: 100, 116, 139;

    /* Status Colors - Vibrant & Clear */
    --status-online: var(--accent);      /* Lime Green */
    --status-online-rgb: var(--accent-rgb);
    --status-offline: #ff4d4d;     /* Bright Red */
    --status-offline-rgb: 255, 77, 77;
    --status-loading: #ffa500;     /* Bright Orange */
    --status-loading-rgb: 255, 165, 0;
    --status-error: var(--status-offline); /* Alias */
    --status-error-rgb: var(--status-offline-rgb); /* Alias */
    --status-info: var(--primary);     /* Cyan Info */
    --status-info-rgb: var(--primary-rgb);

    /* Season Colors (Defined for tags/borders) - Neon Accents */
    --s1-color: #f0c808;       /* Keep Gold, maybe slightly brighter */
    --s1-color-rgb: 240, 200, 8;
    --s2-color: #c0c0c0;       /* Bright Silver */
    --s2-color-rgb: 192, 192, 192;
    --s3-color: var(--primary); /* Cyan */
    --s3-color-rgb: var(--primary-rgb);
    --s4-color: var(--secondary); /* Magenta */
    --s4-color-rgb: var(--secondary-rgb);

    /* Effects - Modernized Shadows, Glows, Glass */
    --shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    --shadow-strong: 0 10px 30px rgba(0, 0, 0, 0.4);
    --glow-primary: 0 0 15px rgba(var(--primary-rgb), 0.6), 0 0 25px rgba(var(--primary-rgb), 0.3);
    --glow-secondary: 0 0 15px rgba(var(--secondary-rgb), 0.6), 0 0 25px rgba(var(--secondary-rgb), 0.3);
    --glow-accent: 0 0 15px rgba(var(--accent-rgb), 0.6), 0 0 25px rgba(var(--accent-rgb), 0.3);
    --text-glow-primary: 0 0 8px rgba(var(--primary-light-rgb), 0.8);
    --text-glow-secondary: 0 0 8px rgba(var(--secondary-light-rgb), 0.8);
    --text-glow-accent: 0 0 8px rgba(var(--accent-light-rgb), 0.8);

    --glass-bg: rgba(var(--dark-rgb), 0.6);
    --glass-border: rgba(var(--primary-light-rgb), 0.2);
    --glass-blur: 12px;
    --glass-shadow: inset 0 1px 0 rgba(var(--light-rgb), 0.05), 0 2px 8px rgba(0,0,0, 0.3);

    --button-cyber-shadow: 0 1px 1px rgba(var(--darker-rgb), 0.5), 0 3px 0 0 rgba(var(--primary-dark-rgb), 0.8), 0 5px 8px rgba(0, 0, 0, 0.3);
    --button-cyber-shadow-active: 0 1px 2px rgba(0, 0, 0, 0.4), inset 0 2px 4px rgba(var(--darker-rgb), 0.6);

    /* Transitions - Smoother Easing */
    --transition-default: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fast: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.1);

    /* Fonts */
    --minecraft-font: 'Minecraft', 'Poppins', sans-serif;
    --body-font: 'Poppins', 'Roboto', sans-serif;
    --ui-font: 'Poppins', sans-serif;

    /* Texture - Subtle Grid/Scanline Overlay */
    --texture-overlay: linear-gradient(rgba(var(--primary-rgb), 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(var(--primary-rgb), 0.02) 1px, transparent 1px);
    --texture-size: 30px 30px;

    /* Spacing Units */
    --space-xs: 0.5rem;
    --space-sm: 1rem;
    --space-md: 1.5rem;
    --space-lg: 2.5rem;
    --space-xl: 4rem;
}

/* --- 2. Base Reset & Styles --- */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; font-size: 16px; line-height: 1.6; }
body {
    font-family: var(--body-font);
    background-color: var(--darker);
    color: var(--light);
    line-height: 1.7;
    overflow-x: hidden;
    position: relative;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
}
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse at 30% 20%, rgba(var(--primary-rgb), 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(var(--secondary-rgb), 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 50%, rgba(var(--dark-rgb), 0.8) 0%, var(--darker) 80%);
    z-index: -3;
    opacity: 1;
    pointer-events: none;
    animation: background-shift 60s infinite alternate ease-in-out;
}
@keyframes background-shift {
    0% { background-position: 0% 0%; }
    100% { background-position: 10% 5%; }
}
body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image: var(--texture-overlay);
    background-size: var(--texture-size);
    opacity: 0.3;
    z-index: -2;
    pointer-events: none;
    mix-blend-mode: overlay;
    animation: texture-scroll 120s linear infinite;
}
@keyframes texture-scroll {
    from { background-position: 0 0; }
    to { background-position: calc(var(--texture-size) * 4) calc(var(--texture-size) * 4); }
}

/* Scrollbar & Selection */
::-webkit-scrollbar { width: 12px; height: 12px; }
::-webkit-scrollbar-track { background: var(--darker); }
::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--primary), var(--secondary));
    border-radius: 6px;
    border: 2px solid var(--darker);
}
::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--primary-light), var(--secondary-light));
    box-shadow: var(--glow-primary);
}
html { scrollbar-color: var(--primary) var(--darker); scrollbar-width: auto; }
::selection { background: var(--primary); color: var(--darker); text-shadow: none; }
::-moz-selection { background: var(--primary); color: var(--darker); text-shadow: none; }

/* Accessibility: Focus & Cursors */
button, a:not(.social-btn):not([href^="#"]), [role="button"], input[type="button"], input[type="submit"], input[type="reset"], select, .gallery-item, .lightbox-close, .lightbox-nav-btn, .music-toggle-btn, .copy-ip-button.stylish, .season-btn {
    cursor: pointer;
}
button { border: none; background: none; color: inherit; font: inherit; }
*:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--darker-rgb), 0.8), 0 0 0 5px var(--primary);
    outline-offset: 1px;
    border-radius: 4px;
}

/* --- 3. Header --- */
.site-header {
    background: rgba(var(--darker-rgb), 0.5);
    padding: var(--space-xl) var(--space-sm) var(--space-lg);
    text-align: center;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(var(--glass-blur));
    border-bottom: 1px solid var(--glass-border);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}
.site-header::before {
    content: '';
    position: absolute;
    inset: 0;
    border-bottom: 1px solid rgba(var(--primary-light-rgb), 0.1);
    pointer-events: none;
    z-index: 1;
}
.header-container { max-width: 1400px; margin: 0 auto; padding-inline: var(--space-md); position: relative; z-index: 2; }
.logo {
    font-family: var(--minecraft-font);
    font-size: clamp(4.5rem, 13vw, 8rem);
    font-weight: 700;
    background: linear-gradient(45deg, var(--primary-light), var(--secondary-light), var(--primary-light));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
    text-shadow: 0 0 15px rgba(var(--primary-rgb), 0.8),
                 0 0 25px rgba(var(--secondary-rgb), 0.5),
                 5px 5px 0 rgba(var(--darker-rgb), 0.6);
    letter-spacing: 5px;
    margin-bottom: var(--space-sm);
    transition: transform var(--transition-fast), text-shadow var(--transition-default);
    display: inline-block;
    background-size: 200% auto;
    animation: logo-gradient-anim 5s linear infinite alternate;
}
@keyframes logo-gradient-anim {
    from { background-position: 0% center; }
    to { background-position: 200% center; }
}
.logo:hover, .logo:focus-visible {
    transform: scale(1.03) rotate(-1deg);
    text-shadow: 0 0 20px rgba(var(--primary-rgb), 1),
                 0 0 35px rgba(var(--secondary-rgb), 0.7),
                 6px 6px 0 rgba(var(--darker-rgb), 0.7);
}
.subtitle {
    font-family: var(--ui-font);
    font-size: clamp(1.5rem, 4vw, 2rem);
    font-weight: 400;
    color: var(--light-muted);
    opacity: 0.9;
    margin-bottom: var(--space-lg);
    letter-spacing: 1px;
    text-shadow: 0 0 5px rgba(var(--light-muted-rgb), 0.5);
    max-width: 70ch;
    margin-inline: auto;
}

/* --- 4. Server Status Section --- */
/* ...[KEEP YOUR PREVIOUS SERVER STATUS CSS HERE]... */

/* --- 5. Main Content Styles --- */
/* ...[KEEP YOUR PREVIOUS MAIN CONTENT, GALLERY, SEASON FILTER, ETC. CSS HERE]... */

/* --- 6. Gallery Styles --- */
/* ...[KEEP YOUR PREVIOUS GALLERY, GALLERY-ITEM, OVERLAY, VIEW-BTN, SEASON TAG CSS HERE]... */

/* --- 7. Lightbox Styles --- */
/* ...[KEEP YOUR PREVIOUS LIGHTBOX, LIGHTBOX-CONTENT, LIGHTBOX-IMAGE, ETC. CSS HERE]... */

/* --- 8. Footer Styles --- */
/* ...[KEEP YOUR PREVIOUS FOOTER, SOCIAL BUTTONS, ETC. CSS HERE]... */

/* ===============================
   NIGHTMARE SERVER GALLERY
   Extra Effects & Animations
   =============================== */

/* --- 1. FADE-IN ON LOAD (for main sections) --- */
.fade-in {
    opacity: 0;
    transform: translateY(30px) scale(0.98);
    animation: fadeInUp 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: none;
    }
}

/* --- 2. FLOATING ANIMATION (for images, tags, or icons) --- */
.floating {
    animation: floating 3.5s ease-in-out infinite alternate;
}
@keyframes floating {
    0%   { transform: translateY(0px); }
    100% { transform: translateY(-14px); }
}

/* --- 3. FADE-IN DELAYED (for gallery grid) --- */
.gallery .gallery-item {
    opacity: 0;
    transform: scale(0.96) translateY(40px);
    animation: galleryFadeIn 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
.gallery .gallery-item:nth-child(1) { animation-delay: 0.1s; }
.gallery .gallery-item:nth-child(2) { animation-delay: 0.2s; }
.gallery .gallery-item:nth-child(3) { animation-delay: 0.3s; }
.gallery .gallery-item:nth-child(4) { animation-delay: 0.4s; }
.gallery .gallery-item:nth-child(5) { animation-delay: 0.5s; }
.gallery .gallery-item:nth-child(6) { animation-delay: 0.6s; }
@keyframes galleryFadeIn {
    to {
        opacity: 1;
        transform: none;
    }
}

/* --- 4. LIGHTBOX FADE EFFECTS --- */
.lightbox {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.45s cubic-bezier(0.4,0,0.2,1), visibility 0s linear 0.45s;
}
.lightbox.active {
    opacity: 1;
    visibility: visible;
    transition-delay: 0s;
}
.lightbox-content {
    opacity: 0;
    transform: scale(0.97) translateY(30px);
    transition: opacity 0.5s, transform 0.5s;
}
.lightbox.active .lightbox-content {
    opacity: 1;
    transform: none;
    transition-delay: 0.15s;
}

/* --- 5. BUTTON HOVER GLOW PULSE --- */
.copy-ip-button.stylish,
.season-btn,
.social-btn,
.gallery-item .view-btn {
    position: relative;
    z-index: 1;
    overflow: hidden;
}
.copy-ip-button.stylish::after,
.season-btn::after,
.social-btn::after,
.gallery-item .view-btn::after {
    content: '';
    position: absolute;
    inset: -10px;
    border-radius: inherit;
    background: radial-gradient(circle at 50% 50%, rgba(var(--primary-rgb),0.18) 0%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s;
    z-index: -1;
}
.copy-ip-button.stylish:hover::after,
.copy-ip-button.stylish:focus-visible::after,
.season-btn:hover::after,
.season-btn:focus-visible::after,
.social-btn:hover::after,
.social-btn:focus-visible::after,
.gallery-item .view-btn:hover::after,
.gallery-item .view-btn:focus-visible::after {
    opacity: 1;
    animation: btnPulse 1.3s infinite alternate;
}
@keyframes btnPulse {
    0%   { opacity: 0.7; }
    100% { opacity: 0.2; }
}

/* --- 6. SEASON TAGS: FADE & FLOAT --- */
.season-tag {
    opacity: 0;
    transform: translateY(-20px) scale(0.98);
    animation: tagFadeIn 1.1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
.gallery-item:nth-child(1) .season-tag { animation-delay: 0.2s; }
.gallery-item:nth-child(2) .season-tag { animation-delay: 0.3s; }
.gallery-item:nth-child(3) .season-tag { animation-delay: 0.4s; }
.gallery-item:nth-child(4) .season-tag { animation-delay: 0.5s; }
@keyframes tagFadeIn {
    to {
        opacity: 1;
        transform: none;
    }
}

/* --- 7. HEADER & SUBTITLE: ENTRANCE --- */
.logo, .subtitle {
    opacity: 0;
    transform: translateY(-40px) scale(0.97);
    animation: headerFadeIn 1.1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
.logo { animation-delay: 0.1s; }
.subtitle { animation-delay: 0.35s; }
@keyframes headerFadeIn {
    to {
        opacity: 1;
        transform: none;
    }
}

/* --- 8. FOOTER: FADE UP --- */
.site-footer {
    opacity: 0;
    transform: translateY(40px);
    animation: fadeFooterUp 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    animation-delay: 0.7s;
}
@keyframes fadeFooterUp {
    to {
        opacity: 1;
        transform: none;
    }
}

/* --- 9. OPTIONAL: Add .fade-out utility for JS use --- */
.fade-out {
    opacity: 0 !important;
    pointer-events: none !important;
    transition: opacity 0.5s cubic-bezier(0.4,0,0.2,1);
}

/* --- 10. Responsive Tweaks (for mobile friendliness) --- */
@media (max-width: 900px) {
    .gallery {
        grid-template-columns: 1fr 1fr;
    }
    .main-content {
        padding: var(--space-lg) var(--space-sm);
    }
}
@media (max-width: 600px) {
    .gallery {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    .site-header, .site-footer {
        padding: var(--space-lg) var(--space-xs);
    }
    .gallery-intro h2 {
        font-size: 2.2rem;
    }
    .logo {
        font-size: 2.5rem;
    }
}
